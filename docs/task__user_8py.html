<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lab #2: Closed-Loop Position Control: src/task_user.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lab #2: Closed-Loop Position Control
   </div>
   <div id="projectbrief">Documentation for Mechatronics Lab #2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">task_user.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implements a user interface for Lab 02.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7ac62939ce970b5cd110e28e8f535472"><td class="memItemLeft" align="right" valign="top"><a id="a7ac62939ce970b5cd110e28e8f535472" name="a7ac62939ce970b5cd110e28e8f535472"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>task_user.send</b> (command)</td></tr>
<tr class="memdesc:a7ac62939ce970b5cd110e28e8f535472"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the proportional gain value over serial. <br /></td></tr>
<tr class="separator:a7ac62939ce970b5cd110e28e8f535472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e668b593dcf4bb99a950ad0b26aaec3"><td class="memItemLeft" align="right" valign="top"><a id="a4e668b593dcf4bb99a950ad0b26aaec3" name="a4e668b593dcf4bb99a950ad0b26aaec3"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>task_user.read</b> ()</td></tr>
<tr class="memdesc:a4e668b593dcf4bb99a950ad0b26aaec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads data from the serial port sent by the Nucleo. <br /></td></tr>
<tr class="separator:a4e668b593dcf4bb99a950ad0b26aaec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aff2e224cdd05b2ef97f2aa7badb51675"><td class="memItemLeft" align="right" valign="top"><a id="aff2e224cdd05b2ef97f2aa7badb51675" name="aff2e224cdd05b2ef97f2aa7badb51675"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>task_user.COM_num</b> = &quot;COM5&quot;</td></tr>
<tr class="separator:aff2e224cdd05b2ef97f2aa7badb51675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74984bb6b9d8486e9f6d031ddc4e05ab"><td class="memItemLeft" align="right" valign="top"><a id="a74984bb6b9d8486e9f6d031ddc4e05ab" name="a74984bb6b9d8486e9f6d031ddc4e05ab"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>task_user.print_flag</b> = False</td></tr>
<tr class="separator:a74984bb6b9d8486e9f6d031ddc4e05ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae36f21ab1242c62578357137466bdce7"><td class="memItemLeft" align="right" valign="top"><a id="ae36f21ab1242c62578357137466bdce7" name="ae36f21ab1242c62578357137466bdce7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>task_user.Kp_flag</b> = False</td></tr>
<tr class="separator:ae36f21ab1242c62578357137466bdce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7071fdb3414912df8e827f3d11e24240"><td class="memItemLeft" align="right" valign="top"><a id="a7071fdb3414912df8e827f3d11e24240" name="a7071fdb3414912df8e827f3d11e24240"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>task_user.time_list</b> = []</td></tr>
<tr class="separator:a7071fdb3414912df8e827f3d11e24240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae15016e69a3c4bea8d32a6f9240d6668"><td class="memItemLeft" align="right" valign="top"><a id="ae15016e69a3c4bea8d32a6f9240d6668" name="ae15016e69a3c4bea8d32a6f9240d6668"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>task_user.position</b> = []</td></tr>
<tr class="separator:ae15016e69a3c4bea8d32a6f9240d6668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2beb8c49891f231cca7af76ef7f7480c"><td class="memItemLeft" align="right" valign="top"><a id="a2beb8c49891f231cca7af76ef7f7480c" name="a2beb8c49891f231cca7af76ef7f7480c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>task_user.start_time</b> = time.time()</td></tr>
<tr class="separator:a2beb8c49891f231cca7af76ef7f7480c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740d4a07254404501f0845a4a588d7a2"><td class="memItemLeft" align="right" valign="top"><a id="a740d4a07254404501f0845a4a588d7a2" name="a740d4a07254404501f0845a4a588d7a2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>task_user.data</b> = port.readline().decode('utf-8')</td></tr>
<tr class="separator:a740d4a07254404501f0845a4a588d7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a9dbc57863eaea93959081d5fbf2643"><td class="memItemLeft" align="right" valign="top"><a id="a5a9dbc57863eaea93959081d5fbf2643" name="a5a9dbc57863eaea93959081d5fbf2643"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>task_user.current_data</b> = [idx for idx in data.replace('r\n', '').split(',')]</td></tr>
<tr class="separator:a5a9dbc57863eaea93959081d5fbf2643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2dbb439c4d6a4b74e54324d75bbff64"><td class="memItemLeft" align="right" valign="top"><a id="ad2dbb439c4d6a4b74e54324d75bbff64" name="ad2dbb439c4d6a4b74e54324d75bbff64"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>task_user.fig</b></td></tr>
<tr class="separator:ad2dbb439c4d6a4b74e54324d75bbff64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f49aaf3c3af26d56b69846f4cd08c0a"><td class="memItemLeft" align="right" valign="top"><a id="a0f49aaf3c3af26d56b69846f4cd08c0a" name="a0f49aaf3c3af26d56b69846f4cd08c0a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>task_user.ax</b></td></tr>
<tr class="separator:a0f49aaf3c3af26d56b69846f4cd08c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Implements a user interface for Lab 02. </p>
<p >The user interface runs on the PC and sends the proportional gain value to the STM32 Nucleo microcontroller to initiate the step response. Once the step response is finished, this script reads and plots the resulting data, saving the current plot as a PNG image file. </p><dl class="section author"><dt>Author</dt><dd>Juan Luna </dd>
<dd>
Marcus Monroe </dd>
<dd>
Cade Liberty </dd></dl>
<dl class="section date"><dt>Date</dt><dd>January 30, 2022 </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
